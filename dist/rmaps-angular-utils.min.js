/**
*  rmaps-angular-utils
*
* @version: 1.1.0
* @author: RealtyMapster LLC
* @date: Fri Oct 21 2016 10:55:41 GMT-0400 (EDT)
* @license: MIT
*/!function(ng){function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}var module=null;module=ng.module("rmaps-utils",[]);var events;events=["load","error"],events.forEach(function(eventname){return module.directive("rmapsOn"+eventname,function(){return{scope:!1,link:function(scope,element,attrs){var callback;return callback=scope.$eval(attrs["rmapsOn"+eventname]),element.on(eventname,function(event){var ret;return ret=callback(event),scope.$evalAsync(function(){}),ret})},restrict:"A"}})});var $parseQuick,MOZ_HACK_REGEXP,PREFIX_REGEXP,SPECIAL_CHARS_REGEXP,camelCase,capitalize,directiveNormalize,eventDirectives,forceAsyncEvents;eventDirectives={},SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i,camelCase=function(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")},directiveNormalize=function(name){return camelCase(name.replace(PREFIX_REGEXP,""))},capitalize=function(str){return str.replace(/^./,function(match){return match.toUpperCase()})},forceAsyncEvents={blur:!0,focus:!0},$parseQuick=function(dotPropString,scope){var toFind;return toFind=void 0,dotPropString.split(".").forEach(function(path){var newRoot;return newRoot=toFind?toFind:scope,toFind=newRoot[path]}),toFind},"click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" ").forEach(function(eventName){var directiveName,valuePropName;return directiveName=directiveNormalize("rmaps-"+eventName),valuePropName="rmapsValueName"+capitalize(eventName),eventDirectives[directiveName]=["$parse","$rootScope","$log",function($parse,$rootScope,$log){return{restrict:"A",link:function(scope,element,attrs){var elementScope;return elementScope=element.scope(),element.on("destroy",function(){return element.unbind(eventName)}),element.bind(eventName,function(event){var callback,fn,fnNameToFind;return fnNameToFind=attrs[directiveName],fn=$parseQuick(fnNameToFind,elementScope),fn||$log.error("failed to find function for "+directiveName+" to prop "+fnNameToFind),callback=function(){return fn($parseQuick(attrs[valuePropName],element.scope()),{$event:event})},forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}]}),module.directive(eventDirectives);var events;return defaultEvents=["click","dblclick","mouseover"],module.directive("rmapsRootEvent",["$rootScope",function($rootScope){return{scope:!1,link:function(scope,element,attrs){var globalEventName,logic=scope.$eval(attrs["rmaps-logic"])||"$broadcast",events=scope.$eval(attrs["rmaps-events"])||defaultEvents;events.forEach(function(eventname){element.on(eventname,function(event){globalEventName="rmapsRoot"+capitalizeFirstLetter(eventname),$rootScope[logic](globalEventName,event)})})},restrict:"A"}}])}(angular);